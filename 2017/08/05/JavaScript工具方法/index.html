<!DOCTYPE html>












  


<html class="theme-next pisces use-motion" lang="zh-CN">
<head><meta name="generator" content="Hexo 3.9.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">










  <meta name="google-site-verification" content="true">







  <meta name="baidu-site-verification" content="true">











<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2">

<link rel="stylesheet" href="/css/main.css?v=7.0.0">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.0.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.0.0">


  <link rel="mask-icon" href="/images/logo.svg?v=7.0.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '7.0.0',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="工作和平时收集整理的一些实用的工具方法，保存下来，以备不时之需。">
<meta name="keywords" content="javascript　js　工具 方法 前端">
<meta property="og:type" content="article">
<meta property="og:title" content="JavaScript工具方法">
<meta property="og:url" content="http://www.icrazyman.cn/2017/08/05/JavaScript工具方法/index.html">
<meta property="og:site_name" content="科瑞兹曼的博客">
<meta property="og:description" content="工作和平时收集整理的一些实用的工具方法，保存下来，以备不时之需。">
<meta property="og:locale" content="zh-CN">
<meta property="og:updated_time" content="2017-08-06T14:52:47.351Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="JavaScript工具方法">
<meta name="twitter:description" content="工作和平时收集整理的一些实用的工具方法，保存下来，以备不时之需。">



  <link rel="alternate" href="/atom.xml" title="科瑞兹曼的博客" type="application/atom+xml">




  <link rel="canonical" href="http://www.icrazyman.cn/2017/08/05/JavaScript工具方法/">



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>JavaScript工具方法 | 科瑞兹曼的博客</title>
  












  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>
<script>
(function(){
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    }
    else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
})();
</script>
<body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">科瑞兹曼的博客</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
      
        <p class="site-subtitle">专注于前端开发技术</p>
      
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="切换导航栏">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>首页</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>标签</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>归档</a>

  </li>

      
      
    </ul>
  

  

  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
    
  
  

  

  <article class="post post-type-normal true" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://www.icrazyman.cn/2017/08/05/JavaScript工具方法/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="科瑞兹曼">
      <meta itemprop="description" content="交流、学习、提升">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="科瑞兹曼的博客">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">JavaScript工具方法

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              

              
                
              

              <time title="创建时间：2017-08-05 17:53:48" itemprop="dateCreated datePublished" datetime="2017-08-05T17:53:48+08:00">2017-08-05</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">更新于</span>
                
                <time title="修改时间：2017-08-06 22:52:47" itemprop="dateModified" datetime="2017-08-06T22:52:47+08:00">2017-08-06</time>
              
            
          </span>

          

          
            
            
              
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
            
                <span class="post-meta-item-text">评论数：</span>
                <a href="/2017/08/05/JavaScript工具方法/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count valine-comment-count" data-xid="/2017/08/05/JavaScript工具方法/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
            <span id="/2017/08/05/JavaScript工具方法/" class="leancloud_visitors" data-flag-title="JavaScript工具方法">
              <span class="post-meta-divider">|</span>
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              
                <span class="post-meta-item-text">阅读次数：</span>
              
                <span class="leancloud-visitors-count"></span>
            </span>
          

          
            <span class="post-meta-divider">|</span>
            <span class="post-meta-item-icon">
            <i class="fa fa-eye"></i>
             阅读次数： 
            <span class="busuanzi-value" id="busuanzi_value_page_pv"></span>
            </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <h3 id="工作和平时收集整理的一些实用的工具方法，保存下来，以备不时之需。"><a href="#工作和平时收集整理的一些实用的工具方法，保存下来，以备不时之需。" class="headerlink" title="工作和平时收集整理的一些实用的工具方法，保存下来，以备不时之需。"></a>工作和平时收集整理的一些实用的工具方法，保存下来，以备不时之需。</h3><a id="more"></a>
<pre><code class="js">&lt;script type=&quot;text/javascript&quot;&gt;
var myTools = {
  /**
   * [trim 去除空格]
   * @param  {[string]} str  [原始字符串]
   * @param  {[number]} type [1-所有空格  2-前后空格  3-前空格 4-后空格]
   * @return {[string]}      [返回处理后的值]
   */
  trim: function(str, type) {
    switch (type) {
      case 1:
        return str.replace(/\s+/g, &quot;&quot;);
      case 2:
        return str.replace(/(^\s*)|(\s*$)/g, &quot;&quot;);
      case 3:
        return str.replace(/(^\s*)/g, &quot;&quot;);
      case 4:
        return str.replace(/(\s*$)/g, &quot;&quot;);
      default:
        return str;
    }
  }
  /**
   * [changeCase 字母大小写切换]
   * @param  {[string]} str  [原始字符串]
   * @param  {[number]} type [1-首字母大写  2-首页母小写  3-大小写转换  4-全部大写  5-全部小写]
   * @return {[string]}      [返回处理后的值]
   */
  ,changeCase: function(str, type) {
    function ToggleCase(str) {
      var itemText = &quot;&quot;
      str.split(&quot;&quot;).forEach(
        function(item) {
          if (/^([a-z]+)/.test(item)) {
            itemText += item.toUpperCase();
          } else if (/^([A-Z]+)/.test(item)) {
            itemText += item.toLowerCase();
          } else {
            itemText += item;
          }
        });
      return itemText;
    }
    switch (type) {
      case 1:
        return str.replace(/^(\w)(\w+)/, function(v, v1, v2) {
          return v1.toUpperCase() + v2.toLowerCase();
        });
      case 2:
        return str.replace(/^(\w)(\w+)/, function(v, v1, v2) {
          return v1.toLowerCase() + v2.toUpperCase();
        });
      case 3:
        return ToggleCase(str);
      case 4:
        return str.toUpperCase();
      case 5:
        return str.toLowerCase();
      default:
        return str;
    }
  }
  /**
   * [repeatStr 字符串循环复制]
   * @param  {[string]} str   [原始字符串]
   * @param  {[number]} count [次数]
   * @return {[string]}       [返回处理后的值]
   */
  ,repeatStr: function(str, count) {
    var text = &#39;&#39;;
    for (var i = 0; i &lt; count; i++) {
        text += str;
    }
    return text;
  }
  //字符串替换
  /**
   * [replaceAll 字符串替换]
   * @param  {[string]} str              [原始字符串]
   * @param  {[string RegExp]} AFindText [查找字符串]
   * @param  {[string]} ARepText         [替换字符串]
   * @return {[string]}                  [返回处理后的值]
   */
  ,replaceAll: function(str, AFindText, ARepText) {　　　
    raRegExp = new RegExp(AFindText, &quot;g&quot;);　　　
    return str.replace(raRegExp, ARepText);
  }
  /**
   * [replaceStr 替换指定字符串]
   * @param  {[string]} str             [字符串]
   * @param  {[array]} regArr           [字符格式]
   * @param  {[number]} type            [替换方式]
   * @param  {[string]} ARepText        [替换的字符(默认*)]
   * @return {[string]}                 [返回处理后的值]
   */
  ,replaceStr: function(str, regArr, type, ARepText) {
    var regtext = &#39;&#39;,
        Reg = null,
        replaceText = ARepText || &#39;*&#39;;
    //replaceStr(&#39;18819322663&#39;,[3,5,3],0)
    //188*****663
    //repeatStr是在上面定义过的（字符串循环复制），大家注意哦
    if (regArr.length === 3 &amp;&amp; type === 0) {
      regtext = &#39;(\\w{&#39; + regArr[0] + &#39;})\\w{&#39; + regArr[1] + &#39;}(\\w{&#39; + regArr[2] + &#39;})&#39;
      Reg = new RegExp(regtext);
      var replaceCount = this.repeatStr(replaceText, regArr[1]);
      return str.replace(Reg, &#39;$1&#39; + replaceCount + &#39;$2&#39;)
    }
    //replaceStr(&#39;asdasdasdaa&#39;,[3,5,3],1)
    //***asdas***
    else if (regArr.length === 3 &amp;&amp; type === 1) {
      regtext = &#39;\\w{&#39; + regArr[0] + &#39;}(\\w{&#39; + regArr[1] + &#39;})\\w{&#39; + regArr[2] + &#39;}&#39;
      Reg = new RegExp(regtext);
      var replaceCount1 = this.repeatStr(replaceText, regArr[0]);
      var replaceCount2 = this.repeatStr(replaceText, regArr[2]);
      return str.replace(Reg, replaceCount1 + &#39;$1&#39; + replaceCount2)
    }
    //replaceStr(&#39;1asd88465asdwqe3&#39;,[5],0)
    //*****8465asdwqe3
    else if (regArr.length === 1 &amp;&amp; type == 0) {
      regtext = &#39;(^\\w{&#39; + regArr[0] + &#39;})&#39;
      Reg = new RegExp(regtext);
      var replaceCount = this.repeatStr(replaceText, regArr[0]);
      return str.replace(Reg, replaceCount)
    }
    //replaceStr(&#39;1asd88465asdwqe3&#39;,[5],1,&#39;+&#39;)
    //&quot;1asd88465as+++++&quot;
    else if (regArr.length === 1 &amp;&amp; type == 1) {
      regtext = &#39;(\\w{&#39; + regArr[0] + &#39;}$)&#39;
      Reg = new RegExp(regtext);
      var replaceCount = this.repeatStr(replaceText, regArr[0]);
      return str.replace(Reg, replaceCount)
    }
  }
  /**
   * [checkType 检测字符串类型]
   * @param  {[string]} str  [检测的字符串]
   * @param  {[string]} type [检测类型:email,phone,tel,number,english,chinese,lower,upper]
   * @return {[boolean]}     [返回布尔值]
   */
  ,checkType: function(str, type) {
    switch (type) {
      case &#39;email&#39;:
        return /^[\w-]+(\.[\w-]+)*@[\w-]+(\.[\w-]+)+$/.test(str);
      case &#39;phone&#39;:
        return /^1[3|4|5|7|8][0-9]{9}$/.test(str);
      case &#39;tel&#39;:
        return /^(0\d{2,3}-\d{7,8})(-\d{1,4})?$/.test(str);
      case &#39;number&#39;:
        return /^[0-9]$/.test(str);
      case &#39;english&#39;:
        return /^[a-zA-Z]+$/.test(str);
      case &#39;chinese&#39;:
        return /^[\u4E00-\u9FA5]+$/.test(str);
      case &#39;lower&#39;:
        return /^[a-z]+$/.test(str);
      case &#39;upper&#39;:
        return /^[A-Z]+$/.test(str);
      default:
        return false;
    }
  }
  /**
   * [checkPwd 检测密码强度]
   * @param  {[string]} str [检测的密码]
   * @return {[number]}     [返回密码强度，最大为4]
   */
  ,checkPwd: function(str) {
    var nowLv = 0;
    if (str.length &lt; 6) {
      return nowLv
    };
    if (/[0-9]/.test(str)) {
      nowLv++
    };
    if (/[a-z]/.test(str)) {
      nowLv++
    };
    if (/[A-Z]/.test(str)) {
      nowLv++
    };
    if (/[\.|-|_]/.test(str)) {
      nowLv++
    };
    return nowLv;
  }
  /**
   * [countStr 查找字符串]
   * @param  {[string]} str      [原始字符串]
   * @param  {[string]} strSplit [查询的字符串]
   * @return {[number]}          [出现的次数]
   */
  ,countStr: function(str, strSplit) {
    return str.split(strSplit).length-1;
  }
  /**
   * [unique 数组去重]
   * @param  {[array]}  array       [原始数组]
   * @param  {Boolean} isSorted     [是否已排过序]
   * @param  {[function]}  iteratee [重新计算，根据结果去重]
   * @return {[array]}              [新数组]
   */
  ,unique: function(array, isSorted, iteratee) {
    var res = [];
    var seen = [];
    for (var i = 0, len = array.length; i &lt; len; i++) {
        var value = array[i];
        var computed = iteratee ? iteratee(value, i, array) : value;
        if (isSorted) {
            if (!i || seen !== value) {
                res.push(value)
            }
            seen = value;
        }
        else if (iteratee) {
            if (seen.indexOf(computed) === -1) {
                seen.push(computed);
                res.push(value);
            }
        }
        else if (res.indexOf(value) === -1) {
            res.push(value);
        }
    }
    return res;
  }
  /**
   * [sortUnique 数字类型数组排序去重 ES5]
   * @param  {[array]} arr [原始数组]
   * @return {[array]}     [新数组]
   */
  ,sortUnique: function(arr) {
    return arr.concat().sort(function( a, b ){
      return a - b;
    }).filter(function( v, i, arr ){
      return !i || v != arr[i - 1];
    })
  }
  /**
   * [unique2 数组去重 ES6]
   * @param  {[array]} arr [原始数组]
   * @return {[array]}     [新数组]
   */
  ,unique2: function(arr) {
    return [...new Set(arr)];
  }
  /**
   * [upsetArr 数组乱序]
   * @param  {[array]} arr [原始数组]
   * @return {[array]}     [新数组]
   */
  ,upsetArr: function(arr) {
    return arr.sort(function(){ return Math.random() - 0.5});
  }
  /**
   * [getMax 数组求最大值]
   * @param  {[array]} arr         [原始数组]
   * @return {[string number]}     [最大的元素]
   */
  ,getMax: function(arr) {
    return Math.max.apply(null,arr);
  }
  /**
   * [getMax 数组求最小值]
   * @param  {[array]} arr         [原始数组]
   * @return {[string number]}     [最小的元素]
   */
  ,getMin: function(arr) {
    return Math.min.apply(null,arr);
  }
  /**
   * [getSum 数组求和]
   * @param  {[array]} arr [原始数组]
   * @return {[num]}       [和]
   */
  ,getSum: function(arr) {
    var sum = 0;
    for (var i = 0, len = arr.length; i &lt; len; i++) {
      sum += arr[i];
    }
    return sum;
  }
  /**
   * [getAverage 数组求平均值]
   * @param  {[array]} arr [原始数组]
   * @return {[number]}    [平均值]
   */
  ,getAverage: function(arr) {
    var sum = this.getSum(arr);
    var average = sum / arr.length;
    return average;
  }
  /**
   * [getRandom 数组中随机获取元素]
   * @param  {[array]} arr         [原始数组]
   * @return {[string number]}     [随机元素]
   */
  ,getRandomElement: function(arr) {
    return arr[Math.floor(Math.random() * arr.length)];
  }
  /**
   * [getEleCount 数组(字符串)元素出现的次数]
   * @param  {[array string]} obj   [原始数组或字符串]
   * @param  {[string number]} ele  [指定元素]
   * @return {[number]}             [出现的次数]
   */
  ,getEleCount: function(obj, ele) {
    var num = 0;
    for (var i = 0, len = obj.length; i &lt; len; i++) {
      if (ele == obj[i]) {
        num++;
      }
    }
    return num;
  }
  /**
   * [getCount 数组(字符串)出现最多的几次元素和出现次数]
   * @param  {[array string]} arr      [原始数组或字符串]
   * @param  {[number]}       rank     [长度，默认为数组长度]
   * @param  {[number]}       ranktype [排序方式，默认降序]
   * @return {[array]}                 [元素和次数的数组对象]
   */
  ,getCount: function(arr, rank, ranktype) {
    var obj = {}, k, arr1 = [];
    //记录每一元素出现的次数
    for (var i = 0, len = arr.length; i &lt; len; i++) {
      k = arr[i];
      if (obj[k]) {
          obj[k]++;
      }
      else {
          obj[k] = 1;
      }
    }
    //保存结果{el-&#39;元素&#39;，count-出现次数}
    for (var o in obj) {
      arr1.push({el: o, count: obj[o]});
    }
    //排序（降序）
    arr1.sort(function (n1, n2) {
      return n2.count - n1.count
    });
    //如果ranktype为1，则为升序，反转数组
    if (ranktype === 1) {
      arr1 = arr1.reverse();
    };
    var rank1 = rank || arr1.length;
    return arr1.slice(0,rank1);
  }
  /**
   * [upDigit 现金额大写转换函数]
   * @param  {[number]} n [数字金额]
   * @return {[string]}   [大写金额]
   */
  ,upDigit: function(n) {
    var fraction = [&#39;角&#39;, &#39;分&#39;, &#39;厘&#39;];
    var digit = [&#39;零&#39;, &#39;壹&#39;, &#39;贰&#39;, &#39;叁&#39;, &#39;肆&#39;, &#39;伍&#39;, &#39;陆&#39;, &#39;柒&#39;, &#39;捌&#39;, &#39;玖&#39;];
    var unit = [[&#39;元&#39;, &#39;万&#39;, &#39;亿&#39;],[&#39;&#39;, &#39;拾&#39;, &#39;佰&#39;, &#39;仟&#39;]];
    var head = n &lt; 0 ? &#39;欠人民币&#39; : &#39;人民币&#39;;
    n = Math.abs(n);
    var s = &#39;&#39;;
    for (var i = 0; i &lt; fraction.length; i++) {
      s += (digit[Math.floor(n * 10 * Math.pow(10, i)) % 10] + fraction[i]).replace(/零./, &#39;&#39;);
    }
    s = s || &#39;整&#39;;
    n = Math.floor(n);
    for (var i = 0; i &lt; unit[0].length &amp;&amp; n &gt; 0; i++) {
      var p = &#39;&#39;;
      for (var j = 0; j &lt; unit[1].length &amp;&amp; n &gt; 0; j++) {
        p = digit[n % 10] + unit[1][j] + p;
        n = Math.floor(n / 10);
      }
      //s = p.replace(/(零.)*零$/, &#39;&#39;).replace(/^$/, &#39;零&#39;)+ unit[0][i] + s;
      s = p + unit[0][i] + s;
    }
    return head + s.replace(/(零.)*零元/, &#39;元&#39;).replace(/(零.)+/g, &#39;零&#39;).replace(/^整$/, &#39;零元整&#39;);
  }
  /**
   * [getUrlPrmt 获取url参数]
   * @param  {[string]} url [url地址]
   * @return {[object]}     [json数据]
   */
  ,getUrlPrmt: function(url) {
    url = url ? url : window.location.href;
    let _pa = url.substring(url.indexOf(&#39;?&#39;) + 1),
        _arrS = _pa.split(&#39;&amp;&#39;),
        _rs = {};
    for (let i = 0, _len = _arrS.length; i &lt; _len; i++) {
      let pos = _arrS[i].indexOf(&#39;=&#39;);
      if (pos == -1) {
        continue;
      }
      //对 encodeURIComponent() 函数编码的 URI 进行解码。
      let name = _arrS[i].substring(0, pos),
          value = window.decodeURIComponent(_arrS[i].substring(pos + 1));
      _rs[name] = value;
    }
    return _rs;
  }
  /**
   * [setUrlPrmt 设置url参数]
   * @param {[object]} obj [json对象]
   */
  ,setUrlPrmt: function(obj) {
    let _rs = [];
    for (let p in obj) {
      if (obj[p] != null &amp;&amp; obj[p] != &#39;&#39;) {
        _rs.push(p + &#39;=&#39; + obj[p])
      }
    }
    return _rs.join(&#39;&amp;&#39;);
  }
  /**
   * [randomNumber 随机返回一个范围的数字]
   * @param  {[number]} n1 [起始值]
   * @param  {[number]} n2 [目标值]
   * @return {[number]}    [随机值]
   */
  ,getRandomNumber: function(n1, n2) {
    if (arguments.length === 2) {
      return Math.round(n1 + Math.random() * (n2 - n1));
    } else if (arguments.length === 1) {
      return Math.round(Math.random() * n1)
    } else {
      return Math.round(Math.random() * 255)
    }
  }
  /**
   * [getRandomColor 随机颜色]
   * @return {[type]} [色值]
   */
  ,getRandomColor: function() {
    return &#39;#&#39;+Math.random().toString(16).substring(2).substr(0,6);
  }
  /**
   * [getEndTime 时间倒计时]
   * @param  {[string]} endTime [目标时间如&#39;2018/7/22 16:0:0&#39;]
   * @return {[string]}         [剩余时间]
   */
  ,getEndTime: function(endTime) {
    var startDate = new Date(); //开始时间，当前时间
    var endDate = new Date(endTime); //结束时间，需传入时间参数
    var t = endDate.getTime() - startDate.getTime(); //时间差的毫秒数
    var d = 0,h = 0,m = 0,s = 0;
    if (t &gt;= 0) {
      d = Math.floor(t / 1000 / 3600 / 24);
      h = Math.floor(t / 1000 / 60 / 60 % 24);
      m = Math.floor(t / 1000 / 60 % 60);
      s = Math.floor(t / 1000 % 60);
    }
    return &quot;剩余时间&quot; + d + &quot;天 &quot; + h + &quot;小时 &quot; + m + &quot; 分钟&quot; + s + &quot; 秒&quot;;
  }
  /**
   * [getFontSize 适配rem]
   * @return {[type]} [比如在iphone6(屏幕宽度：375)上，375/750*100=50px;就是1rem=50px]
   */
  ,getFontSize: function() {
    var doc=document,win=window;
    var docEl = doc.documentElement,
    resizeEvt = &#39;orientationchange&#39; in window ? &#39;orientationchange&#39; : &#39;resize&#39;,
    recalc = function () {
        var clientWidth = docEl.clientWidth;
        if (!clientWidth) return;
        //如果屏幕大于750（750是根据我效果图设置的，具体数值参考效果图），就设置clientWidth=750，防止font-size会超过100px
        if(clientWidth&gt;750){ clientWidth = 750 }
        //设置根元素font-size大小
        docEl.style.fontSize = 100 * ( clientWidth / 750 ) + &#39;px&#39;;
    };
    //屏幕大小改变，或者横竖屏切换时，触发函数
    win.addEventListener(resizeEvt, recalc, false);
    //文档加载完成时，触发函数
    doc.addEventListener(&#39;DOMContentLoaded&#39;, recalc, false);
  }
}
  /**
  * 功能：序列化form表单元素
  * 1.同名的name属性，值会被序列化为数组，例如checkbox等控件
  * 2.可以嵌套对象，name和value会被序列化为嵌套的json对象格式
  * 3.可以嵌套对象列表，name和value会被序列化成嵌套的json数组对象
  */
  $.fn.serializeNestedObject = function() {
    var json = {};
    var arrObj = this.serializeArray();
    $.each(arrObj, function() {
      // 对重复的name属性，会将对应的众多值存储成json数组
      if (json[this.name]) {
        if (!json[this.name].push) {
          json[this.name] = [json[this.name]];
        }
        json[this.name].push(this.value || &#39;&#39;);
      } else {
        // 有嵌套的属性，用&#39;.&#39;分隔的
        if (this.name.indexOf(&#39;.&#39;) &gt; -1) {
          var pos = this.name.indexOf(&#39;.&#39;);
          var key = this.name.substring(0, pos);
          // 判断此key是否已存在json数据中，不存在则新建一个对象出来
          if (!existKeyInJSON(key, json)) {
            json[key] = {};
          }
          var subKey = this.name.substring(pos + 1);
          json[key][subKey] = this.value || &#39;&#39;;
        }
        // 普通属性
        else {
          json[this.name] = this.value || &#39;&#39;;
        }

      }
    });
    // 处理那些值应该属于数组的元素，即带&#39;[number]&#39;的key-value对
    var resultJson = {};
    for (var key in json) {
      // 数组元素
      if (key.indexOf(&#39;[&#39;) &gt; -1) {
        var pos = key.indexOf(&#39;[&#39;);
        var realKey = key.substring(0, pos);
        // 判断此key是否已存在json数据中，不存在则新建一个数组出来
        if (!existKeyInJSON(realKey, resultJson)) {
          resultJson[realKey] = [];
        }
        resultJson[realKey].push(json[key]);

      } else { // 单元素
        resultJson[key] = json[key];
      }
    };
    /**
     * 功能：判断key在Json结构中是否存在
     * 存在，返回true; 否则，返回false.
     */
    function existKeyInJSON(key, json) {
      if (key == null || key == &#39;&#39; || $.isEmptyObject(json)) {
        return false;
      }
      var exist = false;
      for (var k in json) {
        if (key === k) {
          exist = true;
        }
      }
      return exist;
    }
    return resultJson;
  };
console.log(myTools.trim(&#39;  fsggdagdafd  fdsafsa  &#39;, 1));//fsggdagdafdfdsafsa
console.log(myTools.changeCase(&#39;gdagrtew11&#39;, 1));//Gdagrtew11
console.log(myTools.repeatStr(&#39;asd&#39;, &#39;2&#39;));//asdasd
console.log(myTools.replaceAll(&#39;asdfghjkl&#39;, &#39;asd&#39;, &#39;ssss&#39;));//ssssfghjkl
console.log(myTools.replaceStr(&#39;18819322663&#39;,[3,5,3],0));//188*****663
console.log(myTools.checkType(&#39;11@qq.com&#39;,&#39;email&#39;));//true
console.log(myTools.checkPwd(&#39;1111111aA.&#39;));//4
console.log(myTools.countStr(&#39;fewqtreytreiynhtdagdsacsrqewgtrjytjngfbffdgfdgfdagd&#39;, &#39;f&#39;));//6
console.log(myTools.unique([1, 1, &#39;a&#39;, &#39;A&#39;, 2, 2], false, function(item){
    return typeof item == &#39;string&#39; ? item.toLowerCase() : item
})); // [1, &quot;a&quot;, 2]
console.log(myTools.sortUnique([3,2,6,8,0,6,1,3,5,4,2,7,8,9]));//[0, 1, 2, 3, 4, 5, 6, 7, 8, 9]
console.log(myTools.unique2([3,2,6,8,0,6,1,3,5,4,2,7,8,9]));//[3, 2, 6, 8, 0, 1, 5, 4, 7, 9]
console.log(myTools.upsetArr([3,2,6,8,0,6,1,3,5,4,2,7,8,9]));//[1, 6, 0, 2, 6, 3, 4, 8, 2, 7, 8, 9, 5, 3]
console.log(myTools.getMax([3,2,6,8,0,6,1,3,5,4,2,7,8,9]));//9
console.log(myTools.getMin([3,2,6,8,0,6,1,3,5,4,2,7,8,9]));//0
console.log(myTools.getSum([3,2,6,8,0,6,1,3,5,4,2,7,8,9]));//64
console.log(myTools.getAverage([3,2,6,8,0,6,1,3,5,4,2,7,8,9]));//4.571428571428571
console.log(myTools.getEleCount([3,2,6,8,0,6,1,3,5,4,2,7,8,9],3));//2
console.log(myTools.getCount([3,2,6,8,0,6,1,3,5,4,2,7,8,9,2,3,4,5,6,7,8,0,11,4,5,6,7,8,3,4,3,7,5,4,3]));//array[object]
console.log(myTools.upDigit(432153132.432));//人民币肆亿叁仟贰佰壹拾伍万叁仟壹佰叁拾贰元肆角叁分贰厘
console.log(myTools.getUrlPrmt(&#39;segmentfault.com/write?draftId=122&amp;id=4314&#39;));//json格式参数
console.log(myTools.setUrlPrmt({&#39;a&#39;:1,&#39;b&#39;:2}));//a=1&amp;b=2
console.log(myTools.getRandomNumber(2,20));//15
console.log(myTools.getRandomColor());//#6728f2
console.log(myTools.getEndTime(&#39;2018/7/22 16:0:0&#39;));//剩余时间350天 22小时 39 分钟12 秒
console.log(myTools.getFontSize());//clientWidth &gt; 750px ==&gt; 1rem = 100px
&lt;/script&gt;
&lt;div style=&quot;width:1rem;height:2rem;background:red;&quot;&gt;
  11111
&lt;/div&gt;
</code></pre>

      
    </div>

    

    
    
    

    

    
      
    
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/javascript-js-工具-方法-前端/" rel="tag"># javascript　js　工具 方法 前端</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/08/03/为你定制的 React 学习路线/" rel="next" title="为你定制的 React 学习路线">
                <i class="fa fa-chevron-left"></i> 为你定制的 React 学习路线
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/08/11/React学习笔记—UI交互/" rel="prev" title="React学习笔记—UI交互">
                React学习笔记—UI交互 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            文章目录
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            站点概览
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name">科瑞兹曼</p>
              <p class="site-description motion-element" itemprop="description">交流、学习、提升</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">66</span>
                    <span class="site-state-item-name">日志</span>
                  </a>
                </div>
              

              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/about/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">66</span>
                    <span class="site-state-item-name">标签</span>
                  </a>
                </div>
              
            </nav>
          

          
            <div class="feed-link motion-element">
              <a href="/atom.xml" rel="alternate">
                <i class="fa fa-rss"></i>
                RSS
              </a>
            </div>
          

          

          

          
          
            <div class="links-of-blogroll motion-element links-of-blogroll-block">
              <div class="links-of-blogroll-title">
                <i class="fa  fa-fw fa-link"></i>
                Links
              </div>
              <ul class="links-of-blogroll-list">
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.zhangxinxu.com/wordpress/" title="http://www.zhangxinxu.com/wordpress/" rel="noopener" target="_blank">张鑫旭</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://www.ruanyifeng.com/blog/" title="http://www.ruanyifeng.com/blog/" rel="noopener" target="_blank">阮一峰</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="http://jstherightway.org/zh-cn/" title="http://jstherightway.org/zh-cn/" rel="noopener" target="_blank">JavaScript之路</a>
                  </li>
                
                  <li class="links-of-blogroll-item">
                    <a href="https://standardjs.com/readme-zhcn.html" title="https://standardjs.com/readme-zhcn.html" rel="noopener" target="_blank">前端代码规范</a>
                  </li>
                
              </ul>
            </div>
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#工作和平时收集整理的一些实用的工具方法，保存下来，以备不时之需。"><span class="nav-number">1.</span> <span class="nav-text">工作和平时收集整理的一些实用的工具方法，保存下来，以备不时之需。</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">科瑞兹曼</span>

  

  
</div>









        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="post-meta-item-icon">
      <i class="fa fa-user"></i>
    </span>
    <span class="site-uv" title="总访客量">
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="post-meta-item-icon">
      <i class="fa fa-eye"></i>
    </span>
    <span class="site-pv" title="总访问量">
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

    

    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=7.0.0"></script>

  <script src="/js/src/motion.js?v=7.0.0"></script>



  
  


  <script src="/js/src/affix.js?v=7.0.0"></script>

  <script src="/js/src/schemes/pisces.js?v=7.0.0"></script>



  
  <script src="/js/src/scrollspy.js?v=7.0.0"></script>
<script src="/js/src/post-details.js?v=7.0.0"></script>



  


  <script src="/js/src/bootstrap.js?v=7.0.0"></script>



  
  

<script src="//cdn1.lncld.net/static/js/3.11.1/av-min.js"></script>



<script src="//unpkg.com/valine/dist/Valine.min.js"></script>

<script>
  var GUEST = ['nick', 'mail', 'link'];
  var guest = 'nick,mail,link';
  guest = guest.split(',').filter(function(item) {
    return GUEST.indexOf(item) > -1;
  });
  new Valine({
    el: '#comments',
    verify: true,
    notify: true,
    appId: 'hXTDTSGSHRts2UhvBgMMCgbT-gzGzoHsz',
    appKey: 'VtFW2O1nWA3hNCVyr56QqvyG',
    placeholder: '我来说两句',
    avatar: 'mm',
    meta: guest,
    pageSize: '10' || 10,
    visitor: true
  });
</script>




  


  




  

  

  

  

  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js'; 
      }
      else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>


  

  

  

  

  

  

  

  

</body>
</html>
